<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>工具箱页面</title>
    <!-- 引入Bootstrap CSS -->
    <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"> -->
    <link href="../css/bootstrap.min.css" rel="stylesheet">


    <!-- 自定义样式 -->
    <style>
        .tool-card {
            margin-bottom: 15px;
            cursor: pointer;
        }

        .disabled-tool {
            opacity: 0.5;
            pointer-events: none;
        }
    </style>
</head>

<body>
    <header class="jumbotron text-center bg-secondary text-white">
        <div class="container">
            <h1>欢迎来到我的博客</h1>
            <p class="lead">这里分享各种有趣的话题和知识。</p>
        </div>
    </header>
    <div class="container mt-5">
        <div class="row">
            <!-- 工具卡片 -->
            <div class="col-md-4">
                <div class="card tool-card" id="tool1" data-toggle="modal" data-target="#tool1Modal">
                    <div class="card-body">
                        <h5 class="card-title">工具1</h5>
                        <p class="card-text">工具1的描述。</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card tool-card" id="tool2" data-toggle="modal" data-target="#tool2Modal">
                    <div class="card-body">
                        <h5 class="card-title">工具2</h5>
                        <p class="card-text">工具2的描述。</p>
                    </div>
                </div>
            </div>
            <!-- 更多工具卡片... -->
        </div>
    </div>

    <!-- 工具1的模态框 -->
    <div class="modal fade" id="tool1Modal" tabindex="-1" aria-labelledby="tool1ModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="tool1ModalLabel">工具1</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <!-- 工具1的内容 -->
                    这里是工具1的详细内容。
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">关闭</button>
                </div>
            </div>
        </div>
    </div>
    <!-- 工具2的模态框 -->
    <div class="modal fade" id="tool2Modal" tabindex="-1" aria-labelledby="tool2ModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="tool2ModalLabel">工具2</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <!-- 工具2的内容 -->
                    这里是工具2的详细内容。
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">关闭</button>
                </div>
            </div>
        </div>
    </div>

    <!-- 引入Bootstrap和jQuery的JavaScript文件 -->
    <script src="../js/jquery-3.5.1.slim.min.js"></script>
    <!-- <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script> -->
    <script src="../js/bootstrap.bundle.min.js"></script>

    <script src="../js/axios.min.js"></script>

    <!-- 自定义脚本 -->
    <script>
        $(document).ready(function () {
            // 检测URL中是否有参数
            const urlParams = new URLSearchParams(window.location.search);
            const hasToken = urlParams.has('token');
            var token = ""
            if (hasToken) {
                token = urlParams.get('token');
                axios({
                    method: "post",
                    url: "http://tooldo.cn/verify",
                    // url: "http://122.51.107.225/verify",

                    headers: {
                        'Authorization': token,
                    },
                }).then(function (response) {
                    // 获取响应数据
                    var check_flag_res = response.data;
                    console.log(check_flag_res.code)
                    console.log(check_flag_res.data)
                    console.log(check_flag_res.info)
                    if (check_flag_res.code == "20000") {
                        alert(check_flag_res.info)
                    } else {
                        $('.tool-card').addClass('disabled-tool');
                    }
                })
            } else {
                $('.tool-card').addClass('disabled-tool');
            }

            // 工具点击事件，如果有参数则可以进入工具页面
            $('.tool-card').click(function () {
                if (hasToken) {
                    const toolId = $(this).attr('id');
                    // 这里可以写跳转到具体工具页面的代码
                    var modalId = '#' + toolId + 'Modal'; // 构建模态框的ID
                    // alert('进入工具: ' + toolId);
                    // 显示对应的模态框
                    $(modalId).modal('show');

                } else {
                    alert('工具已被禁用，请提供正确的访问权限！');
                }
            });
        });
    </script>
</body>

</html>